(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{138:function(e,t,a){e.exports={app:"App_app__2Qw7z"}},142:function(e,t,a){e.exports=a.p+"static/media/logo.a4aedb73.png"},143:function(e,t,a){e.exports={button:"Button_button__2jq7e"}},144:function(e,t,a){e.exports={input:"Input_input__1XhFv"}},145:function(e,t,a){e.exports={pageWrapper:"SignUp_pageWrapper__mcilh"}},146:function(e,t,a){e.exports={pageWrapper:"Profile_pageWrapper__eLigE"}},147:function(e,t,a){e.exports={pageWrapper:"RecoverPass_pageWrapper__15rRd"}},148:function(e,t,a){e.exports={pageWrapper:"ChangePass_pageWrapper__VhFQP"}},173:function(e,t,a){e.exports=a(313)},178:function(e,t,a){},313:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),o=a.n(c),s=(a(178),a(138)),l=a.n(s),u=a(32),i=a(23),p=a(67),m=a(140),d=a(19),f=a.n(d),g=a(35),b=a(1),E=a(141),v=a.n(E).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),h={register:function(){var e=Object(g.a)(f.a.mark((function e(t,a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("auth/register",{email:t,password:a});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),login:function(){var e=Object(g.a)(f.a.mark((function e(t,a,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("auth/login",{email:t,password:a,rememberMe:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),logout:function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.delete("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},_={isSendData:!1,isAddedUser:null,errorMessage:null},O=function(e){return{type:"SEND_DATA",payload:e}},j=function(e){return{type:"ADDED_USER",payload:e}},k=function(e){return{type:"SET_ERROR_MESSAGE",payload:e}},w={me:function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},y="cards/profile/SET-ERROR",x="cards/profile/SET-USER-DATA",S={error:null,isInitialized:!1,userData:{_id:"",email:"",name:"",publicCardPacksCount:1,created:"null",updated:"",isAdmin:!0,verified:!0,rememberMe:!0,error:""}},I=function(e){return{type:y,error:e}},C=function(e){return{type:x,userData:e}},N={isLoggedIn:!1,error:null},P=function(e){return{type:"cards/signIn/SET-IS-LOGGED-IN",value:e}},R=function(e){return{type:"cards/signIn/SET-ERROR",error:e}},D={},W={},L=a(68),T=a.n(L),A=a(86),U=a(171),M={getPacks:function(){var e=Object(A.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/cards/pack?pageCount=1000");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},z="cards/packs/SET-PACKS",F={packs:[]},G=Object(p.c)({signUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_DATA":return Object(b.a)({},e,{isSendData:t.payload});case"ADDED_USER":return Object(b.a)({},e,{isAddedUser:t.payload});case"SET_ERROR_MESSAGE":return Object(b.a)({},e,{errorMessage:t.payload});default:return e}},signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"cards/signIn/SET-IS-LOGGED-IN":return Object(b.a)({},e,{isLoggedIn:t.value});case"cards/signIn/SET-ERROR":return Object(b.a)({},e,{error:t.error});default:return e}},recoverPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;return t.type,e},changePass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;return t.type,e},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(b.a)({},e,{error:t.error});case"cards/profile/SET-IS-INITIALIZED":return Object(b.a)({},e,{isInitialized:t.isInitialized});case x:return Object(b.a)({},e,{userData:t.userData});default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(U.a)({},e,{packs:t.packs});default:return e}}}),Q=Object(p.d)(G,Object(p.a)(m.a));window.store=Q;var H=a(78),B=a.n(H),J=a(142),K=a.n(J),Y=a(143),q=a.n(Y),X=r.a.memo((function(e){var t=Object.assign({},e);return r.a.createElement("button",Object.assign({className:q.a.button},t),e.name)})),Z=a(22),V=a(56),$=a(50),ee=a.n($),te=a(8),ae=a(144),ne=a.n(ae),re=r.a.memo((function(e){var t=e.onEnter,a=e.error,c=Object(te.a)(e,["onEnter","error"]),o=Object(n.useCallback)((function(e){t&&"Enter"===e.key&&t()}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({className:ne.a.input},c,{onKeyPress:o})),a?r.a.createElement("span",null,a):"")})),ce=r.a.memo((function(){var e=Object(i.c)((function(e){return e.signIn.isLoggedIn})),t=Object(i.b)(),a=Object(n.useState)(""),c=Object(V.a)(a,2),o=c[0],s=c[1],l=Object(n.useState)(""),u=Object(V.a)(l,2),p=u[0],m=u[1],d=Object(n.useState)(!1),b=Object(V.a)(d,2),E=b[0],v=b[1],_=Object(n.useCallback)((function(e){return s(e.currentTarget.value)}),[s]),O=Object(n.useCallback)((function(e){return m(e.currentTarget.value)}),[m]),j=Object(n.useCallback)((function(e){return v(e.currentTarget.checked)}),[v]),k=Object(n.useCallback)((function(e){e.preventDefault(),t(function(e,t,a){return function(){var n=Object(g.a)(f.a.mark((function n(r){var c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.login(e,t,a);case 2:c=n.sent;try{r(P(!0)),r(C(c))}catch(o){r(R(o.response?o.response.data.error:"Some error occurred")),r(P(!1))}case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(o,p,E))}),[o,p,E,t]);return e?r.a.createElement(Z.a,{to:Ce}):r.a.createElement("div",{className:ee.a.loginWrapper},r.a.createElement("div",{className:ee.a.title},r.a.createElement("h2",null,"Login")),r.a.createElement(oe,{email:o,setEmail:_,password:p,setPassword:O,rememberMe:E,setRememberMe:j,onSubmit:k}))})),oe=r.a.memo((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:ee.a.loginForm},r.a.createElement("div",null,r.a.createElement(re,{placeholder:"Email",type:"email",value:e.email,onChange:e.setEmail})),r.a.createElement("div",null,r.a.createElement(re,{placeholder:"Password",type:"password",value:e.password,onChange:e.setPassword})),r.a.createElement("div",{className:ee.a.recoverPassword},r.a.createElement(u.b,{to:Ie,activeClassName:ee.a.active},"Forgot password?")),r.a.createElement("div",{className:ee.a.rememberMe},r.a.createElement(re,{type:"checkbox",name:"rememberMe",checked:e.rememberMe,onChange:e.setRememberMe}),r.a.createElement("label",null," remember me")),r.a.createElement(X,{name:"Sign in",onClick:e.onSubmit})),r.a.createElement("div",{className:ee.a.signUp},r.a.createElement("span",null,"Not registered! ",r.a.createElement(u.b,{to:Se,activeClassName:ee.a.active},"Sign up")," now.")))})),se=ce,le=a(145),ue=a.n(le),ie=function(){var e=Object(i.c)((function(e){return e.signUp.isSendData})),t=Object(i.c)((function(e){return e.signUp.isAddedUser})),a=Object(i.c)((function(e){return e.signUp.errorMessage})),c=Object(i.b)(),o=Object(n.useState)(""),s=Object(V.a)(o,2),l=s[0],u=s[1],p=Object(n.useState)(""),m=Object(V.a)(p,2),d=m[0],b=m[1],E=Object(n.useState)(""),v=Object(V.a)(E,2),_=v[0],w=v[1],y=Object(n.useCallback)((function(e){return u(e.currentTarget.value)}),[l]),x=Object(n.useCallback)((function(e){b(e.currentTarget.value),k("")}),[d]),S=Object(n.useCallback)((function(e){w(e.currentTarget.value),k("")}),[_]),I=Object(n.useCallback)((function(){c(function(e,t){return function(){var a=Object(g.a)(f.a.mark((function a(n){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(O(!0)),a.prev=1,a.next=4,h.register(e,t);case 4:n(j(!0)),n(O(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(1),n(O(!1)),n(j(!1)),n(k("Register failed. Try again..."));case 13:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()}(l,d))}),[c,l,d]),C=d.length<7?"Password must be more than 7 characters":"Password:",N=d!==_?"incorrect password":"",P=d!==_||d.length<7&&_.length<7,R=a||"";return e?r.a.createElement("div",null,"'Wait for the end of the operation...'"):t?r.a.createElement(Z.a,{to:"/login"}):r.a.createElement("div",{className:ue.a.pageWrapper},r.a.createElement("span",{style:{color:"red"}},R),r.a.createElement("div",null,r.a.createElement("label",null,"Email:"),r.a.createElement(re,{type:"email",value:l,onChange:y})),r.a.createElement("div",null,r.a.createElement("label",null,C),r.a.createElement(re,{type:"password",value:d,onChange:x})),r.a.createElement("div",null,r.a.createElement("label",null,"Repeat password:"),r.a.createElement("span",null,N),r.a.createElement(re,{type:"password",value:_,onChange:S})),r.a.createElement("div",null,r.a.createElement(X,{disabled:P,name:"Register",onClick:I})))},pe=a(146),me=a.n(pe),de=r.a.memo((function(){var e=Object(i.c)((function(e){return e.profile})),t=e.userData,a=e.isInitialized,c=Object(i.c)((function(e){return e.signIn.isLoggedIn})),o=Object(i.b)();return Object(n.useEffect)((function(){a||o(function(){var e=Object(g.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.me();case 3:a=e.sent,t(C(a)),t(P(!0)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n=e.t0.response?e.t0.response.data.error:e.t0+"Some kind of error has occurred",t(I(n));case 12:t({type:"cards/profile/SET-IS-INITIALIZED",isInitialized:!0});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[a,o]),c?(console.log(t),r.a.createElement("div",{className:me.a.pageWrapper},r.a.createElement("h2",null,"Profile"),r.a.createElement("span",null,"email: ",t.email))):r.a.createElement(Z.a,{to:xe})})),fe=a(147),ge=a.n(fe),be=function(){return r.a.createElement("div",{className:ge.a.pageWrapper},"Recover password")},Ee=a(148),ve=a.n(Ee),he=function(){return r.a.createElement("div",{className:ve.a.pageWrapper},"Change password")},_e=a(97),Oe=a.n(_e),je=function(){return r.a.createElement("div",{className:Oe.a.container},r.a.createElement("span",{className:Oe.a.errorNumber},"404"),r.a.createElement("span",{className:Oe.a.text},"Page not found"))},ke=a(318),we=a(317),ye=(a(201),r.a.memo((function(){var e=Object(i.c)((function(e){return e.signIn.isLoggedIn})),t=Object(i.c)((function(e){return e.packs.packs})),a=Object(i.b)();Object(n.useEffect)((function(){a(function(){var e=Object(A.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getPacks();case 2:a=e.sent;try{t((n=a.cardPacks,{type:z,packs:n}))}catch(r){console.log(r)}case 4:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}())}),[a]),console.log(t);var c=[{title:"Pack name ",dataIndex:"name",key:"name"},{title:"Cards count",dataIndex:"cardsCount",key:"cardsCount"},{title:"Update date",dataIndex:"updated",key:"updated"},{title:"Url",dataIndex:"url",key:"url"},{title:r.a.createElement(X,{name:"Add pack"}),dataIndex:"addDeletePack",key:"addDeletePack",url:"",render:function(){return r.a.createElement(ke.b,{size:"middle"},r.a.createElement(X,{name:"Delete pack"}))}}];return e?r.a.createElement("div",null,r.a.createElement(we.a,{dataSource:t,columns:c})):r.a.createElement(Z.a,{to:xe})}))),xe="/login",Se="/signUp",Ie="/recoverPassword",Ce="/profile",Ne=function(){return r.a.createElement(Z.d,null,r.a.createElement(Z.b,{exact:!0,path:"/",render:function(){return r.a.createElement(Z.a,{to:Ce})}}),r.a.createElement(Z.b,{path:xe,render:function(){return r.a.createElement(se,null)}}),r.a.createElement(Z.b,{path:Se,render:function(){return r.a.createElement(ie,null)}}),r.a.createElement(Z.b,{path:Ie,render:function(){return r.a.createElement(be,null)}}),r.a.createElement(Z.b,{path:Ce,render:function(){return r.a.createElement(de,null)}}),r.a.createElement(Z.b,{path:"/changePassword",render:function(){return r.a.createElement(he,null)}}),r.a.createElement(Z.b,{path:"/packs",render:function(){return r.a.createElement(ye,null)}}),r.a.createElement(Z.b,{path:"*",render:function(){return r.a.createElement(je,null)}}))},Pe=a(60),Re=a.n(Pe),De=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:Re.a.menuList},r.a.createElement(u.b,{to:Ce,activeClassName:Re.a.active},"profile"),r.a.createElement(u.b,{to:Se,activeClassName:Re.a.active},"sign up"),r.a.createElement(u.b,{to:Ie,activeClassName:Re.a.active},"recover password"),r.a.createElement(u.b,{to:"/changePassword",activeClassName:Re.a.active},"change password"),r.a.createElement(u.b,{to:"/packs",activeClassName:Re.a.active},"packs")))},We=r.a.memo((function(){var e=Object(i.c)((function(e){return e.signIn.isLoggedIn})),t=Object(i.b)(),a=Object(n.useCallback)((function(){t(function(){var e=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.logout();case 3:a=e.sent,console.log(a),t(P(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(R(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);return r.a.createElement("div",{className:B.a.headerWrapper},r.a.createElement("div",{className:B.a.headerContainer},r.a.createElement("div",{className:B.a.titleWrapper},r.a.createElement("img",{className:B.a.logo,src:K.a,alt:"logo"}),r.a.createElement("h1",null,"Cards")),r.a.createElement(De,null),e?r.a.createElement(X,{name:"LogOut",onClick:a}):r.a.createElement(u.b,{to:xe},r.a.createElement(X,{name:"Login"}))))})),Le=function(){return r.a.createElement(u.a,null,r.a.createElement(i.a,{store:Q},r.a.createElement("div",{className:l.a.app},r.a.createElement(We,null),r.a.createElement(Ne,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,a){e.exports={loginWrapper:"Login_loginWrapper__nEpwv",title:"Login_title__2yjit",loginForm:"Login_loginForm__3PkQ9",recoverPassword:"Login_recoverPassword__15-o7",rememberMe:"Login_rememberMe__3t--e",signUp:"Login_signUp__2-zFX"}},60:function(e,t,a){e.exports={menuList:"Navbar_menuList__YxiQ8",active:"Navbar_active__cuqUY"}},78:function(e,t,a){e.exports={headerWrapper:"Header_headerWrapper__3AKcg",headerContainer:"Header_headerContainer__38aWY",titleWrapper:"Header_titleWrapper__zgUzc",logo:"Header_logo__nLmbb"}},97:function(e,t,a){e.exports={container:"Page404_container__3uWJ8",errorNumber:"Page404_errorNumber__1IiGw",text:"Page404_text__1RMEQ"}}},[[173,1,2]]]);
//# sourceMappingURL=main.6e6f43dc.chunk.js.map