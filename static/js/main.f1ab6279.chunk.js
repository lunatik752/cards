(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{139:function(e,t,a){e.exports={app:"App_app__2Qw7z"}},143:function(e,t,a){e.exports=a.p+"static/media/logo.a4aedb73.png"},144:function(e,t,a){e.exports={button:"Button_button__2jq7e"}},145:function(e,t,a){e.exports={input:"Input_input__1XhFv"}},146:function(e,t,a){e.exports={pageWrapper:"SignUp_pageWrapper__mcilh"}},147:function(e,t,a){e.exports={pageWrapper:"Profile_pageWrapper__eLigE"}},148:function(e,t,a){e.exports={pageWrapper:"RecoverPass_pageWrapper__15rRd"}},149:function(e,t,a){e.exports={pageWrapper:"ChangePass_pageWrapper__VhFQP"}},174:function(e,t,a){e.exports=a(314)},179:function(e,t,a){},314:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),o=a.n(c),s=(a(179),a(139)),u=a.n(s),l=a(32),i=a(21),p=a(68),m=a(141),d=a(19),f=a.n(d),b=a(35),g=a(1),v=a(142),E=a.n(v).a.create({baseURL:"http://localhost:7542/2.0/",withCredentials:!0}),h={register:function(){var e=Object(b.a)(f.a.mark((function e(t,a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("auth/register",{email:t,password:a});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),login:function(){var e=Object(b.a)(f.a.mark((function e(t,a,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("auth/login",{email:t,password:a,rememberMe:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),logout:function(){var e=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.delete("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},_={isSendData:!1,isAddedUser:null,errorMessage:null},k=function(e){return{type:"SEND_DATA",payload:e}},O=function(e){return{type:"ADDED_USER",payload:e}},j=function(e){return{type:"SET_ERROR_MESSAGE",payload:e}},w={me:function(){var e=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},x="cards/profile/SET-ERROR",y="cards/profile/SET-USER-DATA",C={error:null,isInitialized:!1,userData:{_id:"",email:"",name:"",publicCardPacksCount:1,created:"null",updated:"",isAdmin:!0,verified:!0,rememberMe:!0,error:""}},S=function(e){return{type:x,error:e}},N=function(e){return{type:y,userData:e}},I={isLoggedIn:!1,error:null},P=function(e){return{type:"cards/signIn/SET-IS-LOGGED-IN",value:e}},R=function(e){return{type:"cards/signIn/SET-ERROR",error:e}},D={},W={},L=a(47),T=a.n(L),U=a(69),A=a(172),M={getPacks:function(){var e=Object(U.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/cards/pack?pageCount=1000"+(t?"&user_id=".concat(t):""));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addPack:function(){var e=Object(U.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("/cards/pack",{cardsPack:{name:t}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},z="cards/packs/SET-PACKS",F={packs:[]},G=function(e){return function(){var t=Object(U.a)(T.a.mark((function t(a){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.getPacks(e);case 2:n=t.sent;try{a((r=n.cardPacks,{type:z,packs:r}))}catch(c){console.log(c)}case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},B=Object(p.c)({signUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_DATA":return Object(g.a)({},e,{isSendData:t.payload});case"ADDED_USER":return Object(g.a)({},e,{isAddedUser:t.payload});case"SET_ERROR_MESSAGE":return Object(g.a)({},e,{errorMessage:t.payload});default:return e}},signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"cards/signIn/SET-IS-LOGGED-IN":return Object(g.a)({},e,{isLoggedIn:t.value});case"cards/signIn/SET-ERROR":return Object(g.a)({},e,{error:t.error});default:return e}},recoverPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;return t.type,e},changePass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;return t.type,e},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(g.a)({},e,{error:t.error});case"cards/profile/SET-IS-INITIALIZED":return Object(g.a)({},e,{isInitialized:t.isInitialized});case y:return Object(g.a)({},e,{userData:t.userData});default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(A.a)({},e,{packs:t.packs});default:return e}}}),Q=Object(p.d)(B,Object(p.a)(m.a));window.store=Q;var H=a(79),K=a.n(H),q=a(143),J=a.n(q),X=a(144),Y=a.n(X),Z=r.a.memo((function(e){var t=Object.assign({},e);return r.a.createElement("button",Object.assign({className:Y.a.button},t),e.name)})),V=a(23),$=a(46),ee=a(52),te=a.n(ee),ae=a(8),ne=a(145),re=a.n(ne),ce=r.a.memo((function(e){var t=e.onEnter,a=e.error,c=Object(ae.a)(e,["onEnter","error"]),o=Object(n.useCallback)((function(e){t&&"Enter"===e.key&&t()}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({className:re.a.input},c,{onKeyPress:o})),a?r.a.createElement("span",null,a):"")})),oe=r.a.memo((function(){var e=Object(i.c)((function(e){return e.signIn.isLoggedIn})),t=Object(i.b)(),a=Object(n.useState)(""),c=Object($.a)(a,2),o=c[0],s=c[1],u=Object(n.useState)(""),l=Object($.a)(u,2),p=l[0],m=l[1],d=Object(n.useState)(!1),g=Object($.a)(d,2),v=g[0],E=g[1],_=Object(n.useCallback)((function(e){return s(e.currentTarget.value)}),[s]),k=Object(n.useCallback)((function(e){return m(e.currentTarget.value)}),[m]),O=Object(n.useCallback)((function(e){return E(e.currentTarget.checked)}),[E]),j=Object(n.useCallback)((function(e){e.preventDefault(),t(function(e,t,a){return function(){var n=Object(b.a)(f.a.mark((function n(r){var c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.login(e,t,a);case 2:c=n.sent;try{r(P(!0)),r(N(c))}catch(o){r(R(o.response?o.response.data.error:"Some error occurred")),r(P(!1))}case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(o,p,v))}),[o,p,v,t]);return e?r.a.createElement(V.a,{to:Re}):r.a.createElement("div",{className:te.a.loginWrapper},r.a.createElement("div",{className:te.a.title},r.a.createElement("h2",null,"Login")),r.a.createElement(se,{email:o,setEmail:_,password:p,setPassword:k,rememberMe:v,setRememberMe:O,onSubmit:j}))})),se=r.a.memo((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:te.a.loginForm},r.a.createElement("div",null,r.a.createElement(ce,{placeholder:"Email",type:"email",value:e.email,onChange:e.setEmail})),r.a.createElement("div",null,r.a.createElement(ce,{placeholder:"Password",type:"password",value:e.password,onChange:e.setPassword})),r.a.createElement("div",{className:te.a.recoverPassword},r.a.createElement(l.b,{to:Pe,activeClassName:te.a.active},"Forgot password?")),r.a.createElement("div",{className:te.a.rememberMe},r.a.createElement(ce,{type:"checkbox",name:"rememberMe",checked:e.rememberMe,onChange:e.setRememberMe}),r.a.createElement("label",null," remember me")),r.a.createElement(Z,{name:"Sign in",onClick:e.onSubmit})),r.a.createElement("div",{className:te.a.signUp},r.a.createElement("span",null,"Not registered! ",r.a.createElement(l.b,{to:Ie,activeClassName:te.a.active},"Sign up")," now.")))})),ue=oe,le=a(146),ie=a.n(le),pe=function(){var e=Object(i.c)((function(e){return e.signUp.isSendData})),t=Object(i.c)((function(e){return e.signUp.isAddedUser})),a=Object(i.c)((function(e){return e.signUp.errorMessage})),c=Object(i.b)(),o=Object(n.useState)(""),s=Object($.a)(o,2),u=s[0],l=s[1],p=Object(n.useState)(""),m=Object($.a)(p,2),d=m[0],g=m[1],v=Object(n.useState)(""),E=Object($.a)(v,2),_=E[0],w=E[1],x=Object(n.useCallback)((function(e){return l(e.currentTarget.value)}),[u]),y=Object(n.useCallback)((function(e){g(e.currentTarget.value),j("")}),[d]),C=Object(n.useCallback)((function(e){w(e.currentTarget.value),j("")}),[_]),S=Object(n.useCallback)((function(){c(function(e,t){return function(){var a=Object(b.a)(f.a.mark((function a(n){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(k(!0)),a.prev=1,a.next=4,h.register(e,t);case 4:n(O(!0)),n(k(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(1),n(k(!1)),n(O(!1)),n(j("Register failed. Try again..."));case 13:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()}(u,d))}),[c,u,d]),N=d.length<7?"Password must be more than 7 characters":"Password:",I=d!==_?"incorrect password":"",P=d!==_||d.length<7&&_.length<7,R=a||"";return e?r.a.createElement("div",null,"'Wait for the end of the operation...'"):t?r.a.createElement(V.a,{to:"/login"}):r.a.createElement("div",{className:ie.a.pageWrapper},r.a.createElement("span",{style:{color:"red"}},R),r.a.createElement("div",null,r.a.createElement("label",null,"Email:"),r.a.createElement(ce,{type:"email",value:u,onChange:x})),r.a.createElement("div",null,r.a.createElement("label",null,N),r.a.createElement(ce,{type:"password",value:d,onChange:y})),r.a.createElement("div",null,r.a.createElement("label",null,"Repeat password:"),r.a.createElement("span",null,I),r.a.createElement(ce,{type:"password",value:_,onChange:C})),r.a.createElement("div",null,r.a.createElement(Z,{disabled:P,name:"Register",onClick:S})))},me=a(147),de=a.n(me),fe=r.a.memo((function(){var e=Object(i.c)((function(e){return e.profile})),t=e.userData,a=e.isInitialized,c=Object(i.c)((function(e){return e.signIn.isLoggedIn})),o=Object(i.b)();return Object(n.useEffect)((function(){a||o(function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.me();case 3:a=e.sent,t(N(a)),t(P(!0)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n=e.t0.response?e.t0.response.data.error:e.t0+"Some kind of error has occurred",t(S(n));case 12:t({type:"cards/profile/SET-IS-INITIALIZED",isInitialized:!0});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[a,o]),c?(console.log(t),r.a.createElement("div",{className:de.a.pageWrapper},r.a.createElement("h2",null,"Profile"),r.a.createElement("span",null,"email: ",t.email))):r.a.createElement(V.a,{to:Ne})})),be=a(148),ge=a.n(be),ve=function(){return r.a.createElement("div",{className:ge.a.pageWrapper},"Recover password")},Ee=a(149),he=a.n(Ee),_e=function(){return r.a.createElement("div",{className:he.a.pageWrapper},"Change password")},ke=a(97),Oe=a.n(ke),je=function(){return r.a.createElement("div",{className:Oe.a.container},r.a.createElement("span",{className:Oe.a.errorNumber},"404"),r.a.createElement("span",{className:Oe.a.text},"Page not found"))},we=a(319),xe=a(318),ye=(a(202),a(98)),Ce=a.n(ye),Se=r.a.memo((function(){var e=Object(i.c)((function(e){return e.signIn.isLoggedIn})),t=Object(i.c)((function(e){return e.packs.packs})),a=Object(i.c)((function(e){return e.profile.userData}))._id,c=Object(n.useState)(!1),o=Object($.a)(c,2),s=o[0],u=o[1],l=Object(i.b)();console.log(t),Object(n.useEffect)((function(){l(G())}),[l]);var p=Object(n.useCallback)((function(){var e;l((e="new pack",function(){var t=Object(U.a)(T.a.mark((function t(a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.addPack(e);case 2:return t.prev=2,t.next=5,a(G());case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}()))}),[l]),m=Object(n.useCallback)((function(e){l(s?G():G(a)),u(e.currentTarget.checked)}),[l,a,s]),d=[{title:"Pack name ",dataIndex:"name",key:"_id",align:"center"},{title:"Cards count",dataIndex:"cardsCount",key:"_id",align:"center"},{title:"Update date",dataIndex:"updated",key:"_id",align:"center"},{title:"Url",dataIndex:"url",key:"_id",align:"center"},{title:r.a.createElement(Z,{name:"Add pack",onClick:p}),dataIndex:"addDeletePack",key:"_id",render:function(){return r.a.createElement(we.b,{size:"middle"},r.a.createElement(Z,{name:"Delete pack"}),r.a.createElement(Z,{name:"Update pack"}))}}],f={pageSizeOptions:["5","10","20"],onChange:function(){alert("hay")}};return e?r.a.createElement("div",{className:Ce.a.container},r.a.createElement("div",{className:Ce.a.checkBoxContainer},r.a.createElement(ce,{type:"checkbox",name:"myPacks",checked:s,onChange:m}),r.a.createElement("label",null," - my packs")),r.a.createElement(xe.a,{dataSource:t,pagination:f,columns:d,bordered:!0,className:Ce.a.table})):r.a.createElement(V.a,{to:Ne})})),Ne="/login",Ie="/signUp",Pe="/recoverPassword",Re="/profile",De=function(){return r.a.createElement(V.d,null,r.a.createElement(V.b,{exact:!0,path:"/",render:function(){return r.a.createElement(V.a,{to:Re})}}),r.a.createElement(V.b,{path:Ne,render:function(){return r.a.createElement(ue,null)}}),r.a.createElement(V.b,{path:Ie,render:function(){return r.a.createElement(pe,null)}}),r.a.createElement(V.b,{path:Pe,render:function(){return r.a.createElement(ve,null)}}),r.a.createElement(V.b,{path:Re,render:function(){return r.a.createElement(fe,null)}}),r.a.createElement(V.b,{path:"/changePassword",render:function(){return r.a.createElement(_e,null)}}),r.a.createElement(V.b,{path:"/packs",render:function(){return r.a.createElement(Se,null)}}),r.a.createElement(V.b,{path:"*",render:function(){return r.a.createElement(je,null)}}))},We=a(61),Le=a.n(We),Te=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:Le.a.menuList},r.a.createElement(l.b,{to:Re,activeClassName:Le.a.active},"profile"),r.a.createElement(l.b,{to:Ie,activeClassName:Le.a.active},"sign up"),r.a.createElement(l.b,{to:Pe,activeClassName:Le.a.active},"recover password"),r.a.createElement(l.b,{to:"/changePassword",activeClassName:Le.a.active},"change password"),r.a.createElement(l.b,{to:"/packs",activeClassName:Le.a.active},"packs")))},Ue=r.a.memo((function(){var e=Object(i.c)((function(e){return e.signIn.isLoggedIn})),t=Object(i.b)(),a=Object(n.useCallback)((function(){t(function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.logout();case 3:a=e.sent,console.log(a),t(P(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(R(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);return r.a.createElement("div",{className:K.a.headerWrapper},r.a.createElement("div",{className:K.a.headerContainer},r.a.createElement("div",{className:K.a.titleWrapper},r.a.createElement("img",{className:K.a.logo,src:J.a,alt:"logo"}),r.a.createElement("h1",null,"Cards")),r.a.createElement(Te,null),e?r.a.createElement(Z,{name:"LogOut",onClick:a}):r.a.createElement(l.b,{to:Ne},r.a.createElement(Z,{name:"Login"}))))})),Ae=function(){return r.a.createElement(l.a,null,r.a.createElement(i.a,{store:Q},r.a.createElement("div",{className:u.a.app},r.a.createElement(Ue,null),r.a.createElement(De,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},52:function(e,t,a){e.exports={loginWrapper:"Login_loginWrapper__nEpwv",title:"Login_title__2yjit",loginForm:"Login_loginForm__3PkQ9",recoverPassword:"Login_recoverPassword__15-o7",rememberMe:"Login_rememberMe__3t--e",signUp:"Login_signUp__2-zFX"}},61:function(e,t,a){e.exports={menuList:"Navbar_menuList__YxiQ8",active:"Navbar_active__cuqUY"}},79:function(e,t,a){e.exports={headerWrapper:"Header_headerWrapper__3AKcg",headerContainer:"Header_headerContainer__38aWY",titleWrapper:"Header_titleWrapper__zgUzc",logo:"Header_logo__nLmbb"}},97:function(e,t,a){e.exports={container:"Page404_container__3uWJ8",errorNumber:"Page404_errorNumber__1IiGw",text:"Page404_text__1RMEQ"}},98:function(e,t,a){e.exports={container:"Packs_container__3FqTX",checkBoxContainer:"Packs_checkBoxContainer__2zulK"}}},[[174,1,2]]]);
//# sourceMappingURL=main.f1ab6279.chunk.js.map