(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{12:function(e,a,t){e.exports={menuList:"Navbar_menuList__YxiQ8",active:"Navbar_active__cuqUY"}},14:function(e,a,t){e.exports={headerWrapper:"Header_headerWrapper__3AKcg",headerContainer:"Header_headerContainer__38aWY",titleWrapper:"Header_titleWrapper__zgUzc",logo:"Header_logo__nLmbb"}},32:function(e,a,t){e.exports={app:"App_app__2Qw7z"}},36:function(e,a,t){e.exports=t.p+"static/media/logo.a4aedb73.png"},37:function(e,a,t){e.exports={button:"Button_button__2jq7e"}},38:function(e,a,t){e.exports={input:"Input_input__1XhFv"}},39:function(e,a,t){e.exports={pageWrapper:"SignUp_pageWrapper__2aZ7m"}},40:function(e,a,t){e.exports={pageWrapper:"Profile_pageWrapper__eLigE"}},41:function(e,a,t){e.exports={pageWrapper:"RecoverPass_pageWrapper__Ai7Uz"}},42:function(e,a,t){e.exports={pageWrapper:"ChangePass_pageWrapper__ECAJ8"}},44:function(e,a,t){e.exports=t(72)},49:function(e,a,t){},7:function(e,a,t){e.exports={loginWrapper:"Login_loginWrapper__yzoF1",title:"Login_title__dOAr6",loginForm:"Login_loginForm__2yZxj",recoverPassword:"Login_recoverPassword__1337n",rememberMe:"Login_rememberMe__1jBv-",signUp:"Login_signUp__26eoB"}},72:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(15),l=t.n(c),o=(t(49),t(32)),s=t.n(o),i=t(2),u=t(5),m=t(11),p=t(34),d=t(9),g=t(35),E=t.n(g).a.create({baseURL:"http://localhost:7542/2.0/",withCredentials:!0}),b=function(e,a){return E.post("auth/register",{email:e,password:a})},v=function(e,a,t){return E.post("/auth/login",{email:e,password:a,rememberMe:t})},f={isSendData:!1,isAddedUser:null,errorMessage:null},h=function(e){return{type:"SEND_DATA",payload:e}},_=function(e){return{type:"ADDED_USER",payload:e}},O=function(e){return{type:"SET_ERROR_MESSAGE",payload:e}},j="cards/signIn/SET-ERROR",w="cards/signIn/SET-USER-DATA",C={isLoggedIn:!1,error:null,userData:{_id:"123",email:"123",name:"123",publicCardPacksCount:123,created:void 0,updated:void 0,isAdmin:!0,verified:!0,rememberMe:!0,error:"123"}},S=function(e){return{type:j,error:e}},y=function(e,a,t){return function(n){v(e,a,t).then((function(e){var a;e.data?(n({type:"cards/signIn/SET-IS-LOGGED-IN",value:!0}),n((a=e.data,{type:w,userData:a}))):n(S("error"))})).catch((function(e){n(S(e.response?e.response.data.error:"Some error occurred"))}))}},N={},W={},D={},R=Object(m.c)({signUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SEND_DATA":return Object(d.a)({},e,{isSendData:a.payload});case"ADDED_USER":return Object(d.a)({},e,{isAddedUser:a.payload});case"SET_ERROR_MESSAGE":return Object(d.a)({},e,{errorMessage:a.payload});default:return e}},signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"cards/signIn/SET-IS-LOGGED-IN":return Object(d.a)({},e,{isLoggedIn:a.value});case j:return Object(d.a)({},e,{error:a.error});case w:return Object(d.a)({},e,{userData:a.userData});default:return e}},recoverPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0;return a.type,e},changePass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,a=arguments.length>1?arguments[1]:void 0;return a.type,e},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0;return a.type,e}}),k=Object(m.d)(R,Object(m.a)(p.a));window.store=k;var A=t(14),L=t.n(A),P=t(36),U=t.n(P),T=t(37),x=t.n(T),I=r.a.memo((function(e){var a=Object.assign({},e);return r.a.createElement("button",Object.assign({className:x.a.button},a),e.name)})),M=t(1),F=t(8),G=t(7),z=t.n(G),B=t(43),H=t(38),J=t.n(H),Y=r.a.memo((function(e){var a=e.onEnter,t=e.error,c=Object(B.a)(e,["onEnter","error"]),l=Object(n.useCallback)((function(e){a&&"Enter"===e.key&&a()}),[a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({className:J.a.input},c,{onKeyPress:l})),t?r.a.createElement("span",null,t):"")})),q=r.a.memo((function(){var e=Object(u.c)((function(e){return e.signIn.isLoggedIn})),a=Object(u.b)(),t=Object(n.useState)(""),c=Object(F.a)(t,2),l=c[0],o=c[1],s=Object(n.useState)(""),i=Object(F.a)(s,2),m=i[0],p=i[1],d=Object(n.useState)(!1),g=Object(F.a)(d,2),E=g[0],b=g[1],v=Object(n.useCallback)((function(e){return o(e.currentTarget.value)}),[o]),f=Object(n.useCallback)((function(e){return p(e.currentTarget.value)}),[p]),h=Object(n.useCallback)((function(e){return b(e.currentTarget.checked)}),[b]),_=Object(n.useCallback)((function(e){e.preventDefault(),a(y(l,m,E))}),[l,m,E,a]);return e?r.a.createElement(M.a,{to:ue}):r.a.createElement("div",{className:z.a.loginWrapper},r.a.createElement("div",{className:z.a.title},r.a.createElement("h2",null,"Login")),r.a.createElement(K,{email:l,setEmail:v,password:m,setPassword:f,rememberMe:E,setRememberMe:h,onSubmit:_}))})),K=r.a.memo((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:z.a.loginForm},r.a.createElement("div",null,r.a.createElement(Y,{placeholder:"Email",type:"email",value:e.email,onChange:e.setEmail})),r.a.createElement("div",null,r.a.createElement(Y,{placeholder:"Password",type:"password",value:e.password,onChange:e.setPassword})),r.a.createElement("div",{className:z.a.recoverPassword},r.a.createElement(i.b,{to:ie,activeClassName:z.a.active},"Forgot password?")),r.a.createElement("div",{className:z.a.rememberMe},r.a.createElement(Y,{type:"checkbox",name:"rememberMe",checked:e.rememberMe,onChange:e.setRememberMe}),r.a.createElement("label",null," remember me")),r.a.createElement(I,{name:"Sign in",onClick:e.onSubmit})),r.a.createElement("div",{className:z.a.signUp},r.a.createElement("span",null,"Not registered! ",r.a.createElement(i.b,{to:se,activeClassName:z.a.active},"Sign up")," now.")))})),Q=q,Z=t(39),X=t.n(Z),$=function(){var e=Object(u.c)((function(e){return e.signUp.isSendData})),a=Object(u.c)((function(e){return e.signUp.isAddedUser})),t=Object(u.c)((function(e){return e.signUp.errorMessage})),c=Object(u.b)(),l=Object(n.useState)(""),o=Object(F.a)(l,2),s=o[0],i=o[1],m=Object(n.useState)(""),p=Object(F.a)(m,2),d=p[0],g=p[1],E=Object(n.useState)(""),v=Object(F.a)(E,2),f=v[0],j=v[1],w=Object(n.useCallback)((function(e){return i(e.currentTarget.value)}),[s]),C=Object(n.useCallback)((function(e){g(e.currentTarget.value),O("")}),[d]),S=Object(n.useCallback)((function(e){j(e.currentTarget.value),O("")}),[f]),y=d.length<7?"Password must be more than 7 characters":"Password:",N=d!==f?"incorrect password":"",W=d!==f||d.length<7&&f.length<7,D=t||"";return e?r.a.createElement("div",null,"'Wait for the end of the operation...'"):a?(setTimeout((function(){return c(_(!1))}),2e3),r.a.createElement(M.a,{to:"/login"})):r.a.createElement("div",{className:X.a.pageWrapper},r.a.createElement("span",{style:{color:"red"}},D),r.a.createElement("div",null,r.a.createElement("label",null,"Email:"),r.a.createElement(Y,{type:"email",value:s,onChange:w})),r.a.createElement("div",null,r.a.createElement("label",null,y),r.a.createElement(Y,{type:"password",value:d,onChange:C})),r.a.createElement("div",null,r.a.createElement("label",null,"Repeat password:"),r.a.createElement("span",null,N),r.a.createElement(Y,{type:"password",value:f,onChange:S})),r.a.createElement("div",null,r.a.createElement(I,{disabled:W,name:"Register",onClick:function(){c(function(e,a,t){return function(n){n(h(t)),b(e,a).then((function(e){"Created"===e.statusText&&(n(h(!1)),n(_(!0)))})).catch((function(e){n(h(!1)),n(_(!1)),n(O("Register failed. Try again..."))}))}}(s,d,!0))}})))},V=t(40),ee=t.n(V),ae=r.a.memo((function(){var e=Object(u.c)((function(e){return e.signIn.userData}));return console.log(e),r.a.createElement("div",{className:ee.a.pageWrapper},r.a.createElement("h2",null,"Profile"))})),te=t(41),ne=t.n(te),re=function(){return r.a.createElement("div",{className:ne.a.pageWrapper},"Recover password")},ce=t(42),le=t.n(ce),oe=function(){return r.a.createElement("div",{className:le.a.pageWrapper},"Change password")},se="/signUp",ie="/recoverPassword",ue="/profile",me=function(){return r.a.createElement(M.d,null,r.a.createElement(M.b,{exact:!0,path:"/",render:function(){return r.a.createElement(M.a,{to:"/login"})}}),r.a.createElement(M.b,{path:"/login",render:function(){return r.a.createElement(Q,null)}}),r.a.createElement(M.b,{path:se,render:function(){return r.a.createElement($,null)}}),r.a.createElement(M.b,{path:ie,render:function(){return r.a.createElement(re,null)}}),r.a.createElement(M.b,{path:ue,render:function(){return r.a.createElement(ae,null)}}),r.a.createElement(M.b,{path:"/changePassword",render:function(){return r.a.createElement(oe,null)}}))},pe=t(12),de=t.n(pe),ge=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:de.a.menuList},r.a.createElement(i.b,{to:ue,activeClassName:de.a.active},"profile"),r.a.createElement(i.b,{to:se,activeClassName:de.a.active},"sign up"),r.a.createElement(i.b,{to:ie,activeClassName:de.a.active},"recover password"),r.a.createElement(i.b,{to:"/changePassword",activeClassName:de.a.active},"change password")))},Ee=function(){return r.a.createElement("div",{className:L.a.headerWrapper},r.a.createElement("div",{className:L.a.headerContainer},r.a.createElement("div",{className:L.a.titleWrapper},r.a.createElement("img",{className:L.a.logo,src:U.a,alt:"logo"}),r.a.createElement("h1",null,"Cards")),r.a.createElement(ge,null),r.a.createElement(i.b,{to:"/login"},r.a.createElement(I,{name:"Login"}))))},be=function(){return r.a.createElement(i.a,{basename:"/cards"},r.a.createElement(u.a,{store:k},r.a.createElement("div",{className:s.a.app},r.a.createElement(Ee,null),r.a.createElement(me,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.5d360621.chunk.js.map