(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{10:function(e,t,a){e.exports={loginWrapper:"Login_loginWrapper__yzoF1",title:"Login_title__dOAr6",loginForm:"Login_loginForm__2yZxj",recoverPassword:"Login_recoverPassword__1337n",rememberMe:"Login_rememberMe__1jBv-",signUp:"Login_signUp__26eoB"}},14:function(e,t,a){e.exports={menuList:"Navbar_menuList__YxiQ8",active:"Navbar_active__cuqUY"}},16:function(e,t,a){e.exports={headerWrapper:"Header_headerWrapper__3AKcg",headerContainer:"Header_headerContainer__38aWY",titleWrapper:"Header_titleWrapper__zgUzc",logo:"Header_logo__nLmbb"}},19:function(e,t,a){e.exports={container:"Page404_container__3uWJ8",errorNumber:"Page404_errorNumber__1IiGw",text:"Page404_text__1RMEQ"}},35:function(e,t,a){e.exports={app:"App_app__2Qw7z"}},39:function(e,t,a){e.exports=a.p+"static/media/logo.a4aedb73.png"},40:function(e,t,a){e.exports={button:"Button_button__2jq7e"}},41:function(e,t,a){e.exports={input:"Input_input__1XhFv"}},42:function(e,t,a){e.exports={pageWrapper:"SignUp_pageWrapper__2aZ7m"}},43:function(e,t,a){e.exports={pageWrapper:"Profile_pageWrapper__eLigE"}},44:function(e,t,a){e.exports={pageWrapper:"RecoverPass_pageWrapper__Ai7Uz"}},45:function(e,t,a){e.exports={pageWrapper:"ChangePass_pageWrapper__ECAJ8"}},47:function(e,t,a){e.exports=a(76)},52:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(17),o=a.n(c),s=(a(52),a(35)),l=a.n(s),i=a(4),u=a(3),p=a(13),m=a(37),d=a(2),f=a.n(d),g=a(6),b=a(9),E=a(38),v=a.n(E).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),h={register:function(){var e=Object(g.a)(f.a.mark((function e(t,a){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("auth/register",{email:t,password:a});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),login:function(){var e=Object(g.a)(f.a.mark((function e(t,a,r){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("auth/login",{email:t,password:a,rememberMe:r});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),logout:function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.delete("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},_={isSendData:!1,isAddedUser:null,errorMessage:null},O=function(e){return{type:"SEND_DATA",payload:e}},j=function(e){return{type:"ADDED_USER",payload:e}},w=function(e){return{type:"SET_ERROR_MESSAGE",payload:e}},y={me:function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},S="cards/profile/SET-ERROR",x="cards/profile/SET-USER-DATA",N={error:null,isInitialized:!1,userData:{_id:"",email:"",name:"",publicCardPacksCount:1,created:"null",updated:"",isAdmin:!0,verified:!0,rememberMe:!0,error:""}},k=function(e){return{type:S,error:e}},C=function(e){return{type:x,userData:e}},I={isLoggedIn:!1,error:null},R=function(e){return{type:"cards/signIn/SET-IS-LOGGED-IN",value:e}},W=function(e){return{type:"cards/signIn/SET-ERROR",error:e}},D={},L={},P=Object(p.c)({signUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_DATA":return Object(b.a)({},e,{isSendData:t.payload});case"ADDED_USER":return Object(b.a)({},e,{isAddedUser:t.payload});case"SET_ERROR_MESSAGE":return Object(b.a)({},e,{errorMessage:t.payload});default:return e}},signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"cards/signIn/SET-IS-LOGGED-IN":return Object(b.a)({},e,{isLoggedIn:t.value});case"cards/signIn/SET-ERROR":return Object(b.a)({},e,{error:t.error});default:return e}},recoverPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;return t.type,e},changePass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;return t.type,e},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(b.a)({},e,{error:t.error});case"cards/profile/SET-IS-INITIALIZED":return Object(b.a)({},e,{isInitialized:t.isInitialized});case x:return Object(b.a)({},e,{userData:t.userData});default:return e}}}),T=Object(p.d)(P,Object(p.a)(m.a));window.store=T;var A=a(16),U=a.n(A),M=a(39),z=a.n(M),F=a(40),G=a.n(F),B=n.a.memo((function(e){var t=Object.assign({},e);return n.a.createElement("button",Object.assign({className:G.a.button},t),e.name)})),H=a(1),J=a(11),Z=a(10),Q=a.n(Z),Y=a(46),q=a(41),K=a.n(q),X=n.a.memo((function(e){var t=e.onEnter,a=e.error,c=Object(Y.a)(e,["onEnter","error"]),o=Object(r.useCallback)((function(e){t&&"Enter"===e.key&&t()}),[t]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("input",Object.assign({className:K.a.input},c,{onKeyPress:o})),a?n.a.createElement("span",null,a):"")})),$=n.a.memo((function(){var e=Object(u.c)((function(e){return e.signIn.isLoggedIn})),t=Object(u.b)(),a=Object(r.useState)(""),c=Object(J.a)(a,2),o=c[0],s=c[1],l=Object(r.useState)(""),i=Object(J.a)(l,2),p=i[0],m=i[1],d=Object(r.useState)(!1),b=Object(J.a)(d,2),E=b[0],v=b[1],_=Object(r.useCallback)((function(e){return s(e.currentTarget.value)}),[s]),O=Object(r.useCallback)((function(e){return m(e.currentTarget.value)}),[m]),j=Object(r.useCallback)((function(e){return v(e.currentTarget.checked)}),[v]),w=Object(r.useCallback)((function(e){e.preventDefault(),t(function(e,t,a){return function(){var r=Object(g.a)(f.a.mark((function r(n){var c;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.login(e,t,a);case 2:c=r.sent;try{n(R(!0)),n(C(c))}catch(o){n(W(o.response?o.response.data.error:"Some error occurred")),n(R(!1))}case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(o,p,E))}),[o,p,E,t]);return e?n.a.createElement(H.a,{to:he}):n.a.createElement("div",{className:Q.a.loginWrapper},n.a.createElement("div",{className:Q.a.title},n.a.createElement("h2",null,"Login")),n.a.createElement(V,{email:o,setEmail:_,password:p,setPassword:O,rememberMe:E,setRememberMe:j,onSubmit:w}))})),V=n.a.memo((function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{className:Q.a.loginForm},n.a.createElement("div",null,n.a.createElement(X,{placeholder:"Email",type:"email",value:e.email,onChange:e.setEmail})),n.a.createElement("div",null,n.a.createElement(X,{placeholder:"Password",type:"password",value:e.password,onChange:e.setPassword})),n.a.createElement("div",{className:Q.a.recoverPassword},n.a.createElement(i.b,{to:ve,activeClassName:Q.a.active},"Forgot password?")),n.a.createElement("div",{className:Q.a.rememberMe},n.a.createElement(X,{type:"checkbox",name:"rememberMe",checked:e.rememberMe,onChange:e.setRememberMe}),n.a.createElement("label",null," remember me")),n.a.createElement(B,{name:"Sign in",onClick:e.onSubmit})),n.a.createElement("div",{className:Q.a.signUp},n.a.createElement("span",null,"Not registered! ",n.a.createElement(i.b,{to:Ee,activeClassName:Q.a.active},"Sign up")," now.")))})),ee=$,te=a(42),ae=a.n(te),re=function(){var e=Object(u.c)((function(e){return e.signUp.isSendData})),t=Object(u.c)((function(e){return e.signUp.isAddedUser})),a=Object(u.c)((function(e){return e.signUp.errorMessage})),c=Object(u.b)(),o=Object(r.useState)(""),s=Object(J.a)(o,2),l=s[0],i=s[1],p=Object(r.useState)(""),m=Object(J.a)(p,2),d=m[0],b=m[1],E=Object(r.useState)(""),v=Object(J.a)(E,2),_=v[0],y=v[1],S=Object(r.useCallback)((function(e){return i(e.currentTarget.value)}),[l]),x=Object(r.useCallback)((function(e){b(e.currentTarget.value),w("")}),[d]),N=Object(r.useCallback)((function(e){y(e.currentTarget.value),w("")}),[_]),k=Object(r.useCallback)((function(){c(function(e,t){return function(){var a=Object(g.a)(f.a.mark((function a(r){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(O(!0)),a.prev=1,a.next=4,h.register(e,t);case 4:r(j(!0)),r(O(!1)),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(1),r(O(!1)),r(j(!1)),r(w("Register failed. Try again..."));case 13:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()}(l,d))}),[c,l,d]),C=d.length<7?"Password must be more than 7 characters":"Password:",I=d!==_?"incorrect password":"",R=d!==_||d.length<7&&_.length<7,W=a||"";return e?n.a.createElement("div",null,"'Wait for the end of the operation...'"):t?n.a.createElement(H.a,{to:"/login"}):n.a.createElement("div",{className:ae.a.pageWrapper},n.a.createElement("span",{style:{color:"red"}},W),n.a.createElement("div",null,n.a.createElement("label",null,"Email:"),n.a.createElement(X,{type:"email",value:l,onChange:S})),n.a.createElement("div",null,n.a.createElement("label",null,C),n.a.createElement(X,{type:"password",value:d,onChange:x})),n.a.createElement("div",null,n.a.createElement("label",null,"Repeat password:"),n.a.createElement("span",null,I),n.a.createElement(X,{type:"password",value:_,onChange:N})),n.a.createElement("div",null,n.a.createElement(B,{disabled:R,name:"Register",onClick:k})))},ne=a(43),ce=a.n(ne),oe=n.a.memo((function(){var e=Object(u.c)((function(e){return e.profile})),t=e.userData,a=e.isInitialized,c=Object(u.c)((function(e){return e.signIn.isLoggedIn})),o=Object(u.b)();return Object(r.useEffect)((function(){a||o(function(){var e=Object(g.a)(f.a.mark((function e(t){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.me();case 3:a=e.sent,t(C(a)),t(R(!0)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r=e.t0.response?e.t0.response.data.error:e.t0+"Some kind of error has occurred",t(k(r));case 12:t({type:"cards/profile/SET-IS-INITIALIZED",isInitialized:!0});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[a,o]),c?(console.log(t),n.a.createElement("div",{className:ce.a.pageWrapper},n.a.createElement("h2",null,"Profile"),n.a.createElement("span",null,"email: ",t.email))):n.a.createElement(H.a,{to:be})})),se=a(44),le=a.n(se),ie=function(){return n.a.createElement("div",{className:le.a.pageWrapper},"Recover password")},ue=a(45),pe=a.n(ue),me=function(){return n.a.createElement("div",{className:pe.a.pageWrapper},"Change password")},de=a(19),fe=a.n(de),ge=function(){return n.a.createElement("div",{className:fe.a.container},n.a.createElement("span",{className:fe.a.errorNumber},"404"),n.a.createElement("span",{className:fe.a.text},"Page not found"))},be="/login",Ee="/signUp",ve="/recoverPassword",he="/profile",_e=function(){return n.a.createElement(H.d,null,n.a.createElement(H.b,{exact:!0,path:"/",render:function(){return n.a.createElement(H.a,{to:he})}}),n.a.createElement(H.b,{path:be,render:function(){return n.a.createElement(ee,null)}}),n.a.createElement(H.b,{path:Ee,render:function(){return n.a.createElement(re,null)}}),n.a.createElement(H.b,{path:ve,render:function(){return n.a.createElement(ie,null)}}),n.a.createElement(H.b,{path:he,render:function(){return n.a.createElement(oe,null)}}),n.a.createElement(H.b,{path:"/changePassword",render:function(){return n.a.createElement(me,null)}}),n.a.createElement(H.b,{path:"*",render:function(){return n.a.createElement(ge,null)}}))},Oe=a(14),je=a.n(Oe),we=function(){return n.a.createElement("div",null,n.a.createElement("div",{className:je.a.menuList},n.a.createElement(i.b,{to:he,activeClassName:je.a.active},"profile"),n.a.createElement(i.b,{to:Ee,activeClassName:je.a.active},"sign up"),n.a.createElement(i.b,{to:ve,activeClassName:je.a.active},"recover password"),n.a.createElement(i.b,{to:"/changePassword",activeClassName:je.a.active},"change password")))},ye=n.a.memo((function(){var e=Object(u.c)((function(e){return e.signIn.isLoggedIn})),t=Object(u.b)(),a=Object(r.useCallback)((function(){t(function(){var e=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.logout();case 3:a=e.sent,console.log(a),t(R(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(W(e.t0.response.data.error));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);return n.a.createElement("div",{className:U.a.headerWrapper},n.a.createElement("div",{className:U.a.headerContainer},n.a.createElement("div",{className:U.a.titleWrapper},n.a.createElement("img",{className:U.a.logo,src:z.a,alt:"logo"}),n.a.createElement("h1",null,"Cards")),n.a.createElement(we,null),e?n.a.createElement(B,{name:"LogOut",onClick:a}):n.a.createElement(i.b,{to:be},n.a.createElement(B,{name:"Login"}))))})),Se=function(){return n.a.createElement(i.a,{basename:"/cards"},n.a.createElement(u.a,{store:T},n.a.createElement("div",{className:l.a.app},n.a.createElement(ye,null),n.a.createElement(_e,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.f143762c.chunk.js.map